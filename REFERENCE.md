# Reference

<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

### Classes

#### Public Classes

* [`nextcloud`](#nextcloud): Manage NextCloud

#### Private Classes

* `nextcloud::base`: Manage Nextcloud base config
* `nextcloud::config`: Manage Nextcloud configuration
* `nextcloud::database`: Manage Nextcloud database
* `nextcloud::dependencies`: Manage Nextcloud dependencies
* `nextcloud::wrapper`: Manage Nextcloup wrapper

### Defined types

* [`nextcloud::htaccess`](#nextcloud--htaccess): A short summary of the purpose of this defined type.
* [`nextcloud::occ::exec`](#nextcloud--occ--exec): Run Nextcloud CLI tool

### Data types

* [`Nextcloud::Iso3166_1_alpha_2`](#Nextcloud--Iso3166_1_alpha_2): ISO 3166-1 alpha-2 codes https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2
* [`Nextcloud::Iso639_1`](#Nextcloud--Iso639_1): ISO 639-1 codes https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes

### Tasks

* [`app_install`](#app_install): Install an application
* [`app_list`](#app_list): List apps
* [`app_update`](#app_update): Update all apps without confirmation
* [`app_update_check`](#app_update_check): Show available updates for apps
* [`deploy`](#deploy): Deploy Nextcloud
* [`maintenance`](#maintenance): Turn on/off maintenance mode
* [`occ`](#occ): Execute custom occ command
* [`update_check`](#update_check): Check if an update is available using `occ update:check`
* [`user_invite`](#user_invite): Invite a user

## Classes

### <a name="nextcloud"></a>`nextcloud`

Manage NextCloud

#### Parameters

The following parameters are available in the `nextcloud` class:

* [`hostname`](#-nextcloud--hostname)
* [`database_password`](#-nextcloud--database_password)
* [`php_version`](#-nextcloud--php_version)
* [`database_username`](#-nextcloud--database_username)
* [`database_name`](#-nextcloud--database_name)
* [`user`](#-nextcloud--user)
* [`group`](#-nextcloud--group)
* [`log_level`](#-nextcloud--log_level)
* [`trashbin_retention`](#-nextcloud--trashbin_retention)
* [`services_to_restart_after_upgrade`](#-nextcloud--services_to_restart_after_upgrade)
* [`default_language`](#-nextcloud--default_language)
* [`default_phone_region`](#-nextcloud--default_phone_region)
* [`mail_domain`](#-nextcloud--mail_domain)
* [`mail_smtpmode`](#-nextcloud--mail_smtpmode)
* [`enable_previews`](#-nextcloud--enable_previews)

##### <a name="-nextcloud--hostname"></a>`hostname`

Data type: `Stdlib::Fqdn`

The hostname of the instance

##### <a name="-nextcloud--database_password"></a>`database_password`

Data type: `String[20]`

Password for the database

##### <a name="-nextcloud--php_version"></a>`php_version`

Data type: `String[3,3]`

Version of PHP to use

##### <a name="-nextcloud--database_username"></a>`database_username`

Data type: `String[1]`

Username for the database

Default value: `'nextcloud'`

##### <a name="-nextcloud--database_name"></a>`database_name`

Data type: `String[1]`

Name of the database

Default value: `'nextcloud'`

##### <a name="-nextcloud--user"></a>`user`

Data type: `String[1]`

Owner of the instance files

Default value: `'nextcloud'`

##### <a name="-nextcloud--group"></a>`group`

Data type: `String[1]`

Group of the instance files

Default value: `$user`

##### <a name="-nextcloud--log_level"></a>`log_level`

Data type: `Integer[0, 4]`

Log level

Default value: `2`

##### <a name="-nextcloud--trashbin_retention"></a>`trashbin_retention`

Data type: `String[1]`

Retention mode for the trash

Default value: `'auto'`

##### <a name="-nextcloud--services_to_restart_after_upgrade"></a>`services_to_restart_after_upgrade`

Data type: `Array[String[1]]`

A list of services to notify on update

Default value: `[]`

##### <a name="-nextcloud--default_language"></a>`default_language`

Data type: `Optional[Nextcloud::Iso639_1]`

Default language

Default value: `undef`

##### <a name="-nextcloud--default_phone_region"></a>`default_phone_region`

Data type: `Optional[Nextcloud::Iso3166_1_alpha_2]`

Defaulte phone region

Default value: `undef`

##### <a name="-nextcloud--mail_domain"></a>`mail_domain`

Data type: `Stdlib::Fqdn`

Mail domain for outgoing emails

Default value: `$hostname`

##### <a name="-nextcloud--mail_smtpmode"></a>`mail_smtpmode`

Data type: `Enum['sendmail', 'smtp']`

SMTP mode for sending emails

Default value: `'smtp'`

##### <a name="-nextcloud--enable_previews"></a>`enable_previews`

Data type: `Boolean`

Enable preview generation

Default value: `true`

## Defined types

### <a name="nextcloud--htaccess"></a>`nextcloud::htaccess`

A short summary of the purpose of this defined type.

#### Parameters

The following parameters are available in the `nextcloud::htaccess` defined type:

* [`user`](#-nextcloud--htaccess--user)
* [`group`](#-nextcloud--htaccess--group)
* [`path`](#-nextcloud--htaccess--path)

##### <a name="-nextcloud--htaccess--user"></a>`user`

Data type: `String[1]`

Owner of the .htacess file

##### <a name="-nextcloud--htaccess--group"></a>`group`

Data type: `String[1]`

Group of the .htacess file

##### <a name="-nextcloud--htaccess--path"></a>`path`

Data type: `Stdlib::Absolutepath`

Path to the .htaccess file

Default value: `$name`

### <a name="nextcloud--occ--exec"></a>`nextcloud::occ::exec`

Run Nextcloud CLI tool

#### Examples

##### 

```puppet
nextcloud::occ::exec { 'enable maintenance mode':
  args  => 'maintenance:mode --on',
  path  => '/srv/www/nextcloud.example.com',
  user  => 'nextcloud',
  group => 'nextcloud',
}
```

#### Parameters

The following parameters are available in the `nextcloud::occ::exec` defined type:

* [`path`](#-nextcloud--occ--exec--path)
* [`user`](#-nextcloud--occ--exec--user)
* [`group`](#-nextcloud--occ--exec--group)
* [`args`](#-nextcloud--occ--exec--args)
* [`refreshonly`](#-nextcloud--occ--exec--refreshonly)
* [`unless`](#-nextcloud--occ--exec--unless)

##### <a name="-nextcloud--occ--exec--path"></a>`path`

Data type: `Stdlib::Absolutepath`



##### <a name="-nextcloud--occ--exec--user"></a>`user`

Data type: `String[1]`



##### <a name="-nextcloud--occ--exec--group"></a>`group`

Data type: `String[1]`



Default value: `$user`

##### <a name="-nextcloud--occ--exec--args"></a>`args`

Data type: `String[1]`



Default value: `$title`

##### <a name="-nextcloud--occ--exec--refreshonly"></a>`refreshonly`

Data type: `Boolean`



Default value: `false`

##### <a name="-nextcloud--occ--exec--unless"></a>`unless`

Data type: `Optional[String[1]]`



Default value: `undef`

## Data types

### <a name="Nextcloud--Iso3166_1_alpha_2"></a>`Nextcloud::Iso3166_1_alpha_2`

ISO 3166-1 alpha-2 codes
https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2

Alias of `Pattern[/\A[A-Z][A-Z]\z/]`

### <a name="Nextcloud--Iso639_1"></a>`Nextcloud::Iso639_1`

ISO 639-1 codes
https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes

Alias of `Pattern[/\A[a-z][a-z]\Z/]`

## Tasks

### <a name="app_install"></a>`app_install`

Install an application

**Supports noop?** false

#### Parameters

##### `application`

Data type: `String`

Application name to install

### <a name="app_list"></a>`app_list`

List apps

**Supports noop?** false

#### Parameters

##### `shipped`

Data type: `Boolean`

Show core Nextcloud apps too

### <a name="app_update"></a>`app_update`

Update all apps without confirmation

**Supports noop?** false

### <a name="app_update_check"></a>`app_update_check`

Show available updates for apps

**Supports noop?** false

### <a name="deploy"></a>`deploy`

Deploy Nextcloud

**Supports noop?** false

#### Parameters

##### `version`

Data type: `String[1]`

The version to deploy

### <a name="maintenance"></a>`maintenance`

Turn on/off maintenance mode

**Supports noop?** false

#### Parameters

##### `mode`

Data type: `Optional[Enum[on,off]]`

Target maintenance mode

### <a name="occ"></a>`occ`

Execute custom occ command

**Supports noop?** false

#### Parameters

##### `command`

Data type: `String[1]`

OCC command

### <a name="update_check"></a>`update_check`

Check if an update is available using `occ update:check`

**Supports noop?** false

### <a name="user_invite"></a>`user_invite`

Invite a user

**Supports noop?** false

#### Parameters

##### `username`

Data type: `String[1]`

Username used to connect to Nextcloud

##### `display_name`

Data type: `Optional[String[1]]`

Display name

##### `group`

Data type: `Optional[String[1]]`

Group (e.g. 'admin')

##### `email`

Data type: `String[1]`

Email

